{"ast":null,"code":"var _jsxFileName = \"/Users/kiritoshimura/Desktop/coffee-app/src/views/OrderHistory.js\",\n    _s = $RefreshSig$();\n\nimport { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { GetItemById } from '../components/Items'; // material ui\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OrderHistory() {\n  _s();\n\n  const state = useSelector(state => state);\n  const [order, setOrder] = useState([]);\n  useEffect(() => {\n    let getOrder = [];\n\n    if (state.orderhistory && state.orderhistory.length !== 0) {\n      // cartのIDを全て商品情報に変換 Item, Topping, subtotal を追加\n      getOrder = state.orderhistory.map(o => {\n        o.cartItemList = o.cartItemList.map(c => {\n          c.Item = GetItemById(c.Itemid, state.Coffee);\n          c.Topping = c.toppingid.map(t => GetItemById(t, state.Topping));\n          c.subtotal = (c.Item[c.price] + c.Topping.length !== 0 && c.Topping.reduce((ac, cu) => ac + cu[c.price], 0)) * c.number;\n          console.log(c.Item[c.price]);\n          return c;\n        });\n        return o;\n      });\n      setOrder(getOrder);\n    }\n  }, [state]);\n  const mainview = {\n    margin: \"10px\",\n    outline: \"2px ridge #AAA\",\n    borderRadius: \"2rem\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: state.user.uid ? order.length !== 0 ? order.map((o, i) => /*#__PURE__*/_jsxDEV(Table, {\n        \"aria-label\": \"simple table\",\n        style: mainview,\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"\\u5546\\u54C1\\u540D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"\\u30B5\\u30A4\\u30BA\\u3001\\u4FA1\\u683C\\u3001\\u6570\\u91CF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"\\u30C8\\u30C3\\u30D4\\u30F3\\u30B0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"\\u5408\\u8A08\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: o.cartItemList.map((c, index) => {\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                component: \"th\",\n                scope: \"row\",\n                children: [c.Item.name, /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `${process.env.PUBLIC_URL}/${c.Item.image}`,\n                  height: \"100px\",\n                  alt: \"\\u5546\\u54C1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [c.price.replace('price', '') + 'サイズ', \"\\u3001\", c.Item[c.price], \"\\u5186\\u3001\", c.number, \"\\u500B\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: c.Topping.map((t, i) => {\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [t.name, \"\\u3001\", t[c.price], \"\\u5186\"]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 71,\n                      columnNumber: 23\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [c.subtotal, \"\\u5186\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        children: \"\\u6CE8\\u6587\\u5C65\\u6B74\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        children: \"\\u30ED\\u30B0\\u30A4\\u30F3\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OrderHistory, \"lK9SUDmAUfyFxzxa3G6GO4IBcio=\", false, function () {\n  return [useSelector];\n});\n\n_c = OrderHistory;\nexport default OrderHistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderHistory\");","map":{"version":3,"sources":["/Users/kiritoshimura/Desktop/coffee-app/src/views/OrderHistory.js"],"names":["useSelector","useState","useEffect","GetItemById","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","OrderHistory","state","order","setOrder","getOrder","orderhistory","length","map","o","cartItemList","c","Item","Itemid","Coffee","Topping","toppingid","t","subtotal","price","reduce","ac","cu","number","console","log","mainview","margin","outline","borderRadius","user","uid","i","index","name","process","env","PUBLIC_URL","image","replace"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,qBAA5B,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;;;AAEA,SAASC,YAAT,GAAwB;AAAA;;AACtB,QAAMC,KAAK,GAAGb,WAAW,CAACa,KAAK,IAAIA,KAAV,CAAzB;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACZ,QAAIc,QAAQ,GAAG,EAAf;;AACA,QAAIH,KAAK,CAACI,YAAN,IAAsBJ,KAAK,CAACI,YAAN,CAAmBC,MAAnB,KAA8B,CAAxD,EAA0D;AACxD;AACAF,MAAAA,QAAQ,GAAGH,KAAK,CAACI,YAAN,CAAmBE,GAAnB,CAAwBC,CAAC,IAAI;AACtCA,QAAAA,CAAC,CAACC,YAAF,GAAiBD,CAAC,CAACC,YAAF,CAAeF,GAAf,CAAmBG,CAAC,IAAI;AACrCA,UAAAA,CAAC,CAACC,IAAF,GAASpB,WAAW,CAACmB,CAAC,CAACE,MAAH,EAAWX,KAAK,CAACY,MAAjB,CAApB;AACAH,UAAAA,CAAC,CAACI,OAAF,GAAYJ,CAAC,CAACK,SAAF,CAAYR,GAAZ,CAAiBS,CAAC,IAAIzB,WAAW,CAACyB,CAAD,EAAIf,KAAK,CAACa,OAAV,CAAjC,CAAZ;AACAJ,UAAAA,CAAC,CAACO,QAAF,GAAa,CAAEP,CAAC,CAACC,IAAF,CAAOD,CAAC,CAACQ,KAAT,IAAkBR,CAAC,CAACI,OAAF,CAAUR,MAA5B,KAAsC,CAAtC,IAA2CI,CAAC,CAACI,OAAF,CAAUK,MAAV,CAAiB,CAACC,EAAD,EAAIC,EAAJ,KAAWD,EAAE,GAAGC,EAAE,CAACX,CAAC,CAACQ,KAAH,CAAnC,EAA6C,CAA7C,CAA7C,IAAgGR,CAAC,CAACY,MAA/G;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYd,CAAC,CAACC,IAAF,CAAOD,CAAC,CAACQ,KAAT,CAAZ;AACA,iBAAOR,CAAP;AACH,SANgB,CAAjB;AAOA,eAAOF,CAAP;AACD,OATU,CAAX;AAUAL,MAAAA,QAAQ,CAACC,QAAD,CAAR;AACD;AACF,GAhBQ,EAgBP,CAACH,KAAD,CAhBO,CAAT;AAkBA,QAAMwB,QAAQ,GAAG;AACfC,IAAAA,MAAM,EAAE,MADO;AAEfC,IAAAA,OAAO,EAAE,gBAFM;AAGfC,IAAAA,YAAY,EAAE;AAHC,GAAjB;AAMA,sBACE;AAAA,2BACA,QAAC,cAAD;AAAgB,MAAA,SAAS,EAAE9B,KAA3B;AAAA,gBACCG,KAAK,CAAC4B,IAAN,CAAWC,GAAX,GACC5B,KAAK,CAACI,MAAN,KAAiB,CAAjB,GACEJ,KAAK,CAACK,GAAN,CAAU,CAACC,CAAD,EAAGuB,CAAH,kBACV,QAAC,KAAD;AAAe,sBAAW,cAA1B;AAAyC,QAAA,KAAK,EAAEN,QAAhD;AAAA,gCACE,QAAC,SAAD;AAAA,iCACE,QAAC,QAAD;AAAA,oCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eASE,QAAC,SAAD;AAAA,oBACCjB,CAAC,CAACC,YAAF,CAAeF,GAAf,CAAmB,CAACG,CAAD,EAAIsB,KAAJ,KAAc;AAC9B,gCACA,QAAC,QAAD;AAAA,sCACE,QAAC,SAAD;AAAW,gBAAA,SAAS,EAAC,IAArB;AAA0B,gBAAA,KAAK,EAAC,KAAhC;AAAA,2BACGtB,CAAC,CAACC,IAAF,CAAOsB,IADV,eAEE;AAAK,kBAAA,GAAG,EAAG,GAAEC,OAAO,CAACC,GAAR,CAAYC,UAAW,IAAG1B,CAAC,CAACC,IAAF,CAAO0B,KAAM,EAApD;AAAuD,kBAAA,MAAM,EAAC,OAA9D;AAAsE,kBAAA,GAAG,EAAC;AAA1E;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAKE,QAAC,SAAD;AAAA,2BAAY3B,CAAC,CAACQ,KAAF,CAAQoB,OAAR,CAAgB,OAAhB,EAAwB,EAAxB,IAA8B,KAA1C,YAAkD5B,CAAC,CAACC,IAAF,CAAOD,CAAC,CAACQ,KAAT,CAAlD,kBAAqER,CAAC,CAACY,MAAvE;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,eAME,QAAC,SAAD;AAAA,uCACE;AAAA,4BACCZ,CAAC,CAACI,OAAF,CAAUP,GAAV,CAAc,CAACS,CAAD,EAAGe,CAAH,KAAS;AACtB,wCACE;AAAA,iCAAaf,CAAC,CAACiB,IAAf,YAAsBjB,CAAC,CAACN,CAAC,CAACQ,KAAH,CAAvB;AAAA,uBAASa,CAAT;AAAA;AAAA;AAAA;AAAA,4BADF;AAGD,mBAJA;AADD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBANF,eAeE,QAAC,SAAD;AAAA,2BAAYrB,CAAC,CAACO,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA,sBAfF;AAAA,eAAee,KAAf;AAAA;AAAA;AAAA;AAAA,oBADA;AAkBC,WAnBJ;AADD;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA,SAAYD,CAAZ;AAAA;AAAA;AAAA;AAAA,cADA,CADF,gBAqCE,QAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAtCH,gBAwCC,QAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAzCF;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,UADF;AAgDD;;GA5EQ/B,Y;UACOZ,W;;;KADPY,Y;AA8ET,eAAeA,YAAf","sourcesContent":["import { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { GetItemById } from '../components/Items'\n\n// material ui\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nfunction OrderHistory() {\n  const state = useSelector(state => state);\n  const [order, setOrder] = useState([])\n\n  useEffect(()=>{    \n    let getOrder = []    \n    if( state.orderhistory && state.orderhistory.length !== 0){\n      // cartのIDを全て商品情報に変換 Item, Topping, subtotal を追加\n      getOrder = state.orderhistory.map( o => { \n        o.cartItemList = o.cartItemList.map(c => {            \n            c.Item = GetItemById(c.Itemid, state.Coffee)\n            c.Topping = c.toppingid.map( t => GetItemById(t, state.Topping) )\n            c.subtotal = ( c.Item[c.price] + c.Topping.length !==0 && c.Topping.reduce((ac,cu) => ac + cu[c.price],0)) * c.number\n            console.log(c.Item[c.price]);\n            return c\n        })\n        return o        \n      })      \n      setOrder(getOrder)\n    }            \n  },[state])\n\n  const mainview = {\n    margin: \"10px\",\n    outline: \"2px ridge #AAA\",\n    borderRadius: \"2rem\"\n  }\n\n  return (\n    <div>\n    <TableContainer component={Paper}>\n    {state.user.uid ? \n      order.length !== 0 ? \n        order.map((o,i) => (\n        <Table key={i} aria-label=\"simple table\" style={mainview}>\n          <TableHead>\n            <TableRow>\n              <TableCell>商品名</TableCell>\n              <TableCell>サイズ、価格、数量</TableCell>\n              <TableCell>トッピング</TableCell>\n              <TableCell>合計</TableCell>              \n            </TableRow>\n          </TableHead>\n          <TableBody>\n          {o.cartItemList.map((c, index) => {            \n              return (\n              <TableRow key={index}>\n                <TableCell component=\"th\" scope=\"row\">\n                  {c.Item.name}\n                  <img src={`${process.env.PUBLIC_URL}/${c.Item.image}`} height=\"100px\" alt=\"商品\"/>\n                </TableCell>\n                <TableCell>{c.price.replace('price','') + 'サイズ'}、{c.Item[c.price]}円、{c.number}個</TableCell>              \n                <TableCell>\n                  <ul>                     \n                  {c.Topping.map((t,i) => {                  \n                    return (\n                      <li key={i}>{t.name}、{t[c.price]}円</li>\n                    )\n                  })}\n                  </ul> \n                </TableCell>\n                <TableCell>{c.subtotal}円</TableCell>                \n              </TableRow>)\n              })         \n            }\n          </TableBody>\n        </Table>\n        ))\n        :\n        <Typography variant=\"h3\">注文履歴がありません</Typography>\n      :\n      <Typography variant=\"h3\">ログインしてください</Typography>\n    }     \n    </TableContainer>     \n    </div>\n  );\n}\n\nexport default OrderHistory;"]},"metadata":{},"sourceType":"module"}