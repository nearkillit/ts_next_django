{"ast":null,"code":"var _jsxFileName = \"/Users/kiritoshimura/Desktop/coffee-app/src/views/OrderConfirm.js\",\n    _s = $RefreshSig$();\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport firebase from \"firebase/compat/app\";\nimport 'firebase/compat/firestore';\nimport Button from '@material-ui/core/Button'; // components\n\nimport { newCart } from '../store/index';\nimport { GetItemById } from '../components/Items'; // material ui\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell'; // import TableContainer from '@material-ui/core/TableContainer';\n\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow'; // import Paper from '@material-ui/core/Paper';\n\nimport Typography from '@material-ui/core/Typography'; // axios\n\nimport axios from 'axios'; // jsPDF\n\nimport { jsPDF } from \"jspdf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OrderConfirm() {\n  _s();\n\n  //まとめる　＋カートの情報も　state.cart.cartItemListでとってこれる\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [addNumber, setAddNumber] = useState('');\n  const [addNumberError, setAddNumberError] = useState('');\n  const [address, setAddress] = useState('');\n  const [orderDate, setOrderDate] = useState('');\n  const [orderTime, setOrderTime] = useState('');\n  const [tel, setTel] = useState('');\n  const [status, setStatus] = useState('');\n  const [errors, setErrors] = useState([]); //エラーの配列\n  // const [buyer,setBuyer] =useState({})//注文者情報\n\n  const [cartItemList, setCartItemList] = useState([]); //firebase ここから\n\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n  const history = useHistory();\n\n  const handleLink = path => history.push(path);\n\n  const makeReceipt = () => {\n    // 領収書PDF\n    const doc = new jsPDF({\n      orientation: \"landscape\",\n      unit: \"in\",\n      format: [4, 2]\n    });\n    doc.text(\"Hello world!\", 10, 10);\n    doc.save(\"a4.pdf\");\n  };\n\n  const getAddress = () => {\n    if (/^\\d{3}-\\d{4}$/.test(addNumber)) {\n      setAddNumberError('');\n      axios.get('https://api.zipaddress.net/', {\n        params: {\n          zipcode: addNumber\n        }\n      }).then(res => {\n        if (res.data.code === 404) {\n          setAddNumberError('郵便番号が存在しません');\n        } else {\n          setAddress(res.data.data.address);\n        }\n      });\n    } else {\n      setAddNumberError('郵便番号の指定が合っていません');\n      setAddress('error');\n    }\n  };\n\n  const AddCartFire = by => {\n    // by = 購入者情報\n    const newOrder = Object.assign(by, {\n      cartItemList: state.cart.cartItemList\n    }); // coupon追加するならここ           \n    // add history\n\n    firebase.firestore().collection(`users/${state.user.uid}/carts`).doc(state.cart.uid).update(newOrder).then(d => {\n      dispatch({\n        type: 'ADD_ORDERHISTORY',\n        payload: {\n          uid: state.cart.uid,\n          orderhistory: newOrder\n        }\n      });\n    }); // create cate\n\n    firebase.firestore().collection(`users/${state.user.uid}/carts`).add(newCart).then(d => {\n      const newCarts = Object.assign({}, newCart);\n      newCarts.uid = d.id;\n      newCarts.cartItemList = [];\n      dispatch({\n        type: 'CREATE_CART',\n        payload: {\n          cart: newCarts\n        }\n      });\n    });\n    handleLink('orderfinish');\n  };\n\n  const changeName = e => {\n    setName(e.target.value);\n  };\n\n  const changeEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const changeAddNumber = e => {\n    setAddNumber(e.target.value);\n  };\n\n  const changeAddress = e => {\n    setAddress(e.target.value);\n  };\n\n  const changeTel = e => {\n    setTel(e.target.value);\n  };\n\n  const changeOrderDate = e => {\n    setOrderDate(e.target.value);\n  };\n\n  const changeOrderTime = e => {\n    setOrderTime(e.target.value);\n  };\n\n  const changeStatus = e => {\n    setStatus(e.target.value);\n  };\n\n  const validEmail = email => {\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }; //メールアドレスのバリデーション\n\n\n  const validZipaddress = addNumber => {\n    let re = /^\\d{3}-\\d{4}$/;\n    return re.test(addNumber); //郵便番号の表記のバリデーション\n  };\n\n  const validPhone = tel => {\n    let re = /^\\d{3}-\\d{4}-\\d{4}$/;\n    return re.test(tel); //電話番号の表記のバリデーション\n  }; //日付のバリデーション　-始まり-\n\n\n  const validOrderdate = orderDate => {\n    //本日\n    let today = new Date();\n    today = new Date(today.getFullYear(), today.getMonth(), today.getDate(), today.getHours());\n    let date1 = new Date(orderDate);\n    let nowDay = today.getDate();\n    let date = new Date(date1);\n    let selectedMonth = date1.getMonth(); //選択した月\n\n    let nowMonth = today.getMonth();\n    let selectedDay = date1.getDate();\n    let nowHour = today.getHours();\n    let a = Math.abs(orderTime - nowHour);\n\n    if (nowMonth < selectedMonth) {\n      console.log(`trueだよ`);\n      return true;\n    } else if (nowMonth === selectedMonth) {\n      console.log(`同じ月です`);\n\n      if (nowDay === selectedDay) {\n        console.log('同じ日付です');\n\n        if (orderTime <= nowHour) {\n          console.log('時間がおかしいです');\n          return false;\n        } else if (3 <= a) {\n          console.log('時間は正常です');\n          return true;\n        } else {\n          return false;\n        }\n      } //ここまで同じ日の場合の処理\n      else if (nowDay > selectedDay) {\n        console.log('本日以降の日付を選択してください');\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }; // 日付のバリデーション　-終わり-\n\n\n  const checkValid = () => {\n    //配列をからにする\n    setErrors('');\n    let allError = [];\n\n    if (!name) {\n      allError.push(\"名前を入力してください\");\n    }\n\n    if (!email) {\n      allError.push(\"メールアドレスを入力してください\");\n    } else if (!validEmail(email)) {\n      allError.push(\"メールアドレスを正しい形式で入力してください\");\n    }\n\n    if (!addNumber) {\n      allError.push(\"郵便番号を入力してください\");\n    } else if (!validZipaddress(addNumber)) {\n      allError.push(\"郵便番号を正しい形式で入力してください\");\n    }\n\n    if (!address) {\n      allError.push(\"住所を入力してください\");\n    }\n\n    if (!orderDate) {\n      allError.push(\"配達日を入力してください\");\n    } else if (!validOrderdate(orderDate)) {\n      allError.push(\"今から3時間後の日時をご入力ください\");\n    }\n\n    if (!orderTime) {\n      allError.push(\"配達時間を入力してください\");\n    }\n\n    if (!tel) {\n      allError.push(\"電話番号を入力してください\");\n    } else if (!validPhone(tel)) {\n      allError.push(\"電話番号を正しい形式で入力してください\");\n    }\n\n    if (!status) {\n      allError.push(\"支払い方法を入力してください\");\n    }\n\n    setErrors(allError);\n\n    if (allError.length === 0) {\n      let objName = {\n        name: name\n      };\n      let objEmail = {\n        email: email\n      };\n      let objAddnumber = {\n        addNumber: addNumber\n      };\n      let objAddress = {\n        address: address\n      };\n      let objOrderDate = {\n        orderDate: orderDate\n      };\n      let objOrderTime = {\n        orderTime: orderTime\n      };\n      let objTel = {\n        tel: tel\n      };\n      let objStatus = {\n        status: status\n      };\n      let BuyerObj = Object.assign({}, objName, objEmail, objAddnumber, objAddress, objOrderDate, objOrderTime, objTel, objStatus); // setBuyer(BuyerObj);      \n\n      AddCartFire(BuyerObj);\n    }\n  };\n\n  useEffect(() => {\n    let newCartItemList = state.cart.cartItemList;\n\n    if (newCartItemList) {\n      // cartのIDを全て商品情報に変換 Item, Topping, subtotal を追加\n      newCartItemList = newCartItemList.map(c => {\n        c.Item = GetItemById(c.Itemid, state.Coffee);\n        c.Topping = c.toppingid.map(t => GetItemById(t, state.Topping));\n        c.subtotal = (c.Item[c.price] + c.Topping.reduce((ac, cu) => ac + cu[c.price], 0)) * c.number;\n        return c;\n      });\n      setCartItemList(newCartItemList);\n    } else {\n      handleLink('/cart');\n    }\n  }, [state.cart]);\n  useEffect(() => {\n    if (!state.user.uid) {\n      handleLink('/cart');\n    }\n  }, [state.user]);\n  const addNumberErrorMes = {\n    fontSize: \"50%\",\n    color: \"red\",\n    position: \"absolute\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u6CE8\\u6587\\u5185\\u5BB9\\u78BA\\u8A8D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      \"aria-label\": \"simple table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        className: \"chumon-head\",\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u5546\\u54C1\\u540D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u30B5\\u30A4\\u30BA\\u3001\\u4FA1\\u683C\\u3001\\u6570\\u91CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u30C8\\u30C3\\u30D4\\u30F3\\u30B0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u5408\\u8A08\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        className: \"chumon\",\n        children: cartItemList.map((c, index) => {\n          return /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: [c.Item.name, /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `${process.env.PUBLIC_URL}/${c.Item.image}`,\n                height: \"100px\",\n                alt: \"\\u5546\\u54C1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [c.price.replace('price', '') + 'サイズ', \"\\u3001\", c.Item[c.price], \"\\u5186\\u3001\", c.number, \"\\u500B\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: c.Topping.map((t, i) => {\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [t.name, \"\\u3001\", t[c.price], \"\\u5186\"]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [c.subtotal, \"\\u5186\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: errors.map((error, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: error\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u304A\\u5BA2\\u3055\\u307E\\u60C5\\u5831\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      children: /*#__PURE__*/_jsxDEV(TableBody, {\n        children: [/*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u304A\\u540D\\u524D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: name,\n              onChange: changeName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: email,\n              onChange: changeEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u90F5\\u4FBF\\u756A\\u53F7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: addNumber,\n              onChange: changeAddNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: getAddress,\n              children: \"\\u90F5\\u4FBF\\u756A\\u53F7\\u304B\\u3089\\u4F4F\\u6240\\u5165\\u529B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: addNumberErrorMes,\n              children: addNumberError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u4F4F\\u6240\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: address,\n              onChange: changeAddress\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u96FB\\u8A71\\u756A\\u53F7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: tel,\n              onChange: changeTel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u914D\\u9054\\u65E5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: orderDate,\n              onChange: changeOrderDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"\\u914D\\u9054\\u6642\\u9593\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"pets\",\n              id: \"pet-select\",\n              value: orderTime,\n              onChange: changeOrderTime,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u6642\\u9593\\u3092\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"10\",\n                children: \"10\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"11\",\n                children: \"11\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"12\",\n                children: \"12\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"13\",\n                children: \"13\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"14\",\n                children: \"14\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"15\",\n                children: \"15\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"16\",\n                children: \"16\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"17\",\n                children: \"17\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"18\",\n                children: \"18\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"19\",\n                children: \"19\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"20\",\n                children: \"20\\u6642\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u652F\\u6255\\u3044\\u65B9\\u6CD5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      children: /*#__PURE__*/_jsxDEV(TableBody, {\n        children: [/*#__PURE__*/_jsxDEV(TableRow, {\n          children: /*#__PURE__*/_jsxDEV(TableCell, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"daibiki\",\n              children: \"\\u4EE3\\u91D1\\u5F15\\u63DB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"payment\",\n              value: \"1\",\n              onClick: changeStatus,\n              id: \"daibiki\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n          children: /*#__PURE__*/_jsxDEV(TableCell, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"cc\",\n              children: \"\\u30AF\\u30EC\\u30B8\\u30C3\\u30C8\\u30AB\\u30FC\\u30C9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"payment\",\n              value: \"2\",\n              onClick: changeStatus,\n              id: \"cc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      children: [\"\\u5408\\u8A08\\u91D1\\u984D\\uFF1A\", cartItemList.reduce((a, c) => c.subtotal + a, 0), \"\\u5186\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: checkValid,\n      children: \"\\u6CE8\\u6587\\u3059\\u308B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OrderConfirm, \"CgZZYGFAI99yrZXPKXS4zt+yiGk=\", false, function () {\n  return [useDispatch, useSelector, useHistory];\n});\n\n_c = OrderConfirm;\nexport default OrderConfirm;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderConfirm\");","map":{"version":3,"sources":["/Users/kiritoshimura/Desktop/coffee-app/src/views/OrderConfirm.js"],"names":["useDispatch","useSelector","useState","useEffect","useHistory","firebase","Button","newCart","GetItemById","Table","TableBody","TableCell","TableHead","TableRow","Typography","axios","jsPDF","OrderConfirm","name","setName","email","setEmail","addNumber","setAddNumber","addNumberError","setAddNumberError","address","setAddress","orderDate","setOrderDate","orderTime","setOrderTime","tel","setTel","status","setStatus","errors","setErrors","cartItemList","setCartItemList","dispatch","state","history","handleLink","path","push","makeReceipt","doc","orientation","unit","format","text","save","getAddress","test","get","params","zipcode","then","res","data","code","AddCartFire","by","newOrder","Object","assign","cart","firestore","collection","user","uid","update","d","type","payload","orderhistory","add","newCarts","id","changeName","e","target","value","changeEmail","changeAddNumber","changeAddress","changeTel","changeOrderDate","changeOrderTime","changeStatus","validEmail","re","validZipaddress","validPhone","validOrderdate","today","Date","getFullYear","getMonth","getDate","getHours","date1","nowDay","date","selectedMonth","nowMonth","selectedDay","nowHour","a","Math","abs","console","log","checkValid","allError","length","objName","objEmail","objAddnumber","objAddress","objOrderDate","objOrderTime","objTel","objStatus","BuyerObj","newCartItemList","map","c","Item","Itemid","Coffee","Topping","toppingid","t","subtotal","price","reduce","ac","cu","number","addNumberErrorMes","fontSize","color","position","index","process","env","PUBLIC_URL","image","replace","i","error"],"mappings":"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","sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport firebase from \"firebase/compat/app\";\nimport 'firebase/compat/firestore';\nimport Button from '@material-ui/core/Button';\n// components\nimport { newCart } from '../store/index'\nimport { GetItemById } from '../components/Items'\n// material ui\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\n// import TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n// import Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n// axios\nimport axios from 'axios' \n// jsPDF\nimport { jsPDF } from \"jspdf\";\n\nfunction OrderConfirm() {  \n\n  //まとめる　＋カートの情報も　state.cart.cartItemListでとってこれる\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [addNumber, setAddNumber] = useState('');\n  const [addNumberError, setAddNumberError] = useState('');\n  const [address, setAddress] = useState('');\n\n  const [orderDate, setOrderDate] = useState('');\n  const [orderTime, setOrderTime] = useState('');\n  const [tel, setTel] = useState('');\n  const [status, setStatus] = useState('');\n  const [errors, setErrors] = useState([]); //エラーの配列\n\n  // const [buyer,setBuyer] =useState({})//注文者情報\n  const [cartItemList, setCartItemList] = useState([])\n\n  //firebase ここから\n  const dispatch = useDispatch();\n  const state = useSelector(state => state); \n  const history = useHistory()\n  const handleLink = path => history.push(path)\n  \n  const makeReceipt = () => {\n    // 領収書PDF\n    const doc = new jsPDF({\n      orientation: \"landscape\",\n      unit: \"in\",\n      format: [4, 2]\n    });\n    doc.text(\"Hello world!\", 10, 10);\n    doc.save(\"a4.pdf\");\n  }\n\n  const getAddress = () => {\n    if(/^\\d{3}-\\d{4}$/.test(addNumber)){\n      setAddNumberError('')\n      axios.get('https://api.zipaddress.net/'    \n      ,{        \n        params:{\n          zipcode: addNumber\n        }}\n      ).then(res => {\n        if(res.data.code === 404 ){\n          setAddNumberError('郵便番号が存在しません')\n        }else{\n          setAddress(res.data.data.address)\n        }        \n      })\n    }else{\n      setAddNumberError('郵便番号の指定が合っていません')\n      setAddress('error')\n    }    \n  }\n\n  const AddCartFire = (by) => {        \n\n    // by = 購入者情報\n    const newOrder = Object.assign(by,{ cartItemList: state.cart.cartItemList } )   // coupon追加するならここ           \n\n    // add history\n    firebase.firestore()\n            .collection(`users/${state.user.uid}/carts`)                     \n            .doc(state.cart.uid)\n            .update(newOrder)\n            .then( d => {                                                    \n              dispatch({ type:'ADD_ORDERHISTORY', payload:{ uid: state.cart.uid, orderhistory: newOrder }})                 \n            })\n\n    // create cate\n    firebase.firestore()\n              .collection(`users/${state.user.uid}/carts`)                     \n              .add(newCart)          \n              .then( d => {\n                const newCarts = Object.assign({}, newCart)\n                newCarts.uid = d.id\n                newCarts.cartItemList = []                                                                 \n                dispatch({ type:'CREATE_CART', payload:{ cart: newCarts }})                 \n              }) \n    handleLink('orderfinish')\n  }    \n\n  const changeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const changeEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const changeAddNumber = (e) => {\n    setAddNumber(e.target.value);\n  };\n\n  const changeAddress = (e) => {\n    setAddress(e.target.value);\n  };\n\n  const changeTel = (e) => {\n    setTel(e.target.value);\n  };\n\n  const changeOrderDate = (e) => {\n    setOrderDate(e.target.value);\n  };\n\n  const changeOrderTime= (e) => {\n    setOrderTime(e.target.value);\n  };\n\n  const changeStatus= (e) => {\n    setStatus(e.target.value);\n  };\n\n  const  validEmail=(email)=>{\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }//メールアドレスのバリデーション\n\n  const validZipaddress=(addNumber)=>{\n    let re = /^\\d{3}-\\d{4}$/\n    return re.test(addNumber) //郵便番号の表記のバリデーション\n  }\n\n  const  validPhone = (tel) =>{\n    let re = /^\\d{3}-\\d{4}-\\d{4}$/\n    return re.test(tel) //電話番号の表記のバリデーション\n  }\n\n//日付のバリデーション　-始まり-\n\nconst validOrderdate=(orderDate)=>{\n  //本日\n  let today = new Date() \n  today = new Date(\n    today.getFullYear(),\n    today.getMonth(),\n    today.getDate(),\n    today.getHours()\n  )\n  \n  let date1 = new Date(orderDate)\n  let nowDay = today.getDate()\n  let date = new Date (date1)\n \n  let selectedMonth = date1.getMonth() //選択した月\n  let nowMonth =today.getMonth()\n  let selectedDay = date1.getDate()\n  let nowHour = today.getHours()\n  let a = Math.abs(orderTime - nowHour)\n\n    if(nowMonth < selectedMonth){\n      console.log(`trueだよ`)\n      return true\n      \n    }\n    else if(nowMonth === selectedMonth){\n      console.log(`同じ月です`)\n      if(nowDay === selectedDay){\n        console.log('同じ日付です')\n        if(orderTime <= nowHour){\n           console.log('時間がおかしいです')\n          return false\n        } else if( 3 <= a) {\n        console.log('時間は正常です')\n        return true\n        } else {\n        return false\n        }\n      }\n      //ここまで同じ日の場合の処理\n         else if(nowDay > selectedDay){\n        console.log('本日以降の日付を選択してください')\n        return false\n      }else{\n        return true\n      }\n     }\n    }\n\n  \n// 日付のバリデーション　-終わり-\n\n\n  const checkValid = () => {  \n    \n    //配列をからにする\n    setErrors('')\n    let allError =[]    \n\n    if (!name) {\n      allError.push(\"名前を入力してください\")\n    } \n    if (!email) {\n      allError.push(\"メールアドレスを入力してください\")\n    } else if(!validEmail(email)){\n      allError.push(\"メールアドレスを正しい形式で入力してください\")\n    }\n\n    if (!addNumber) {\n      allError.push(\"郵便番号を入力してください\")\n    } else if(!validZipaddress(addNumber)){\n      allError.push(\"郵便番号を正しい形式で入力してください\")\n    }\n\n\n    if (!address) {\n      allError.push(\"住所を入力してください\")\n    } \n    \n    if (!orderDate) {\n      allError.push(\"配達日を入力してください\")\n    } else if(!validOrderdate(orderDate)){\n      allError.push(\"今から3時間後の日時をご入力ください\")\n    }\n\n    if (!orderTime) {\n      allError.push(\"配達時間を入力してください\")\n    } \n    if (!tel) {\n      allError.push(\"電話番号を入力してください\")\n    } else if(!validPhone(tel)){\n      allError.push(\"電話番号を正しい形式で入力してください\")\n    }\n\n\n    if (!status) {\n      allError.push(\"支払い方法を入力してください\")\n    } \n    setErrors(allError)\n        \n    if (allError.length === 0) {      \n        let objName = {name:name}\n        let objEmail = {email:email}\n        let objAddnumber = {addNumber:addNumber}\n        let objAddress = {address:address}\n        let objOrderDate = {orderDate:orderDate}\n        let objOrderTime = {orderTime:orderTime}\n        let objTel = {tel:tel}\n        let objStatus = {status:status}\n\n        let BuyerObj =Object.assign({},objName, objEmail, objAddnumber,objAddress,objOrderDate,objOrderTime,objTel,objStatus);\n        // setBuyer(BuyerObj);      \n\n        AddCartFire(BuyerObj)\n    }\n  }; \n\n  useEffect(()=>{\n    let newCartItemList = state.cart.cartItemList\n    if(newCartItemList){\n      // cartのIDを全て商品情報に変換 Item, Topping, subtotal を追加\n      newCartItemList = newCartItemList.map( c => { \n        c.Item = GetItemById(c.Itemid, state.Coffee)\n        c.Topping = c.toppingid.map( t => GetItemById(t, state.Topping) )\n        c.subtotal = ( c.Item[c.price] + c.Topping.reduce((ac,cu) => ac + cu[c.price],0)) * c.number\n        return c\n      })\n      setCartItemList(newCartItemList)\n    }\n    else{\n      handleLink('/cart')\n    }\n  },[state.cart])\n\n  useEffect(()=>{\n    if(!state.user.uid){\n      handleLink('/cart')\n    }\n  },[state.user])\n\n  const addNumberErrorMes = {\n    fontSize: \"50%\",\n    color: \"red\",    \n    position: \"absolute\",    \n  }\n\n  return (\n    \n    <div>\n      <h2>注文内容確認</h2>\n      <Table aria-label=\"simple table\">\n        <TableHead className='chumon-head'>\n          <TableRow>\n            <TableCell>商品名</TableCell>\n            <TableCell>サイズ、価格、数量</TableCell>\n            <TableCell>トッピング</TableCell>\n            <TableCell>合計</TableCell>            \n          </TableRow>\n        </TableHead>\n        <TableBody  className='chumon'>          \n         {cartItemList.map((c, index) => {            \n            return (\n            <TableRow key={index}>\n              <TableCell component=\"th\" scope=\"row\">\n                {c.Item.name}\n                <img src={`${process.env.PUBLIC_URL}/${c.Item.image}`} height=\"100px\" alt=\"商品\"/>\n              </TableCell>\n              <TableCell>{c.price.replace('price','') + 'サイズ'}、{c.Item[c.price]}円、{c.number}個</TableCell>              \n              <TableCell>\n                <ul>                     \n                {c.Topping.map((t,i) => {                  \n                  return (\n                    <li key={i}>{t.name}、{t[c.price]}円</li>\n                  )\n                })}\n                </ul> \n              </TableCell>\n              <TableCell>{c.subtotal}円</TableCell>              \n            </TableRow>)\n            })                  \n          }\n        </TableBody>\n      </Table>\n \n    {/* エラーメッセージ表示 */}\n    <ul>\n        {errors.map((error, index) => (\n          <li key={index}>\n            {error}\n          </li>\n        ))}\n      </ul>    \n    <h2>お客さま情報</h2>\n  <Table>\n  \t<TableBody>\n\t\t<TableRow>\n\t\t\t<TableCell>\n          お名前 \n      </TableCell>\n\t\t\t<TableCell>\n         <input type=\"text\" value={name} onChange={changeName}></input>     \n      </TableCell>\n\t\t</TableRow>\n\t\t<TableRow>\n\t\t\t<TableCell>\n        メールアドレス\n      </TableCell>\n\t\t\t<TableCell>\n         <input type=\"text\" value={email} onChange={changeEmail}></input>     \n      </TableCell>\n    </TableRow>\n    <TableRow>\n\t\t\t<TableCell>\n          郵便番号\n      </TableCell>\n\t\t\t<TableCell>\n         <input type=\"text\" value={addNumber} onChange={changeAddNumber}></input>\n         <Button onClick={getAddress}>郵便番号から住所入力</Button> \n         <span style={addNumberErrorMes}>{addNumberError}</span>  \n      </TableCell>\n\t\t</TableRow>\n    <TableRow>\n    <TableCell>\n          住所\n      </TableCell>\n\t\t\t<TableCell>\n         <input type=\"text\" value={address} onChange={changeAddress}></input>     \n      </TableCell>\n    </TableRow>\n    <TableRow>\n      <TableCell>\n          電話番号\n      </TableCell>\n\t\t\t<TableCell>\n         <input type=\"text\" value={tel} onChange={changeTel}></input>     \n      </TableCell>\n    </TableRow>\n\n    <TableRow>\n    <TableCell>\n          配達日\n        </TableCell>\n        <TableCell>\n      <input type=\"date\" value={orderDate} onChange={changeOrderDate}></input>\n      </TableCell>\n      </TableRow>\n\n      <TableRow>\n      <TableCell>\n          配達時間\n        </TableCell>\n        <TableCell>\n      <select name=\"pets\" id=\"pet-select\" value={orderTime} onChange={changeOrderTime}> \n        <option value=\"\">時間を選択してください</option>\n        <option value=\"10\">10時</option>\n        <option value=\"11\">11時</option>\n        <option value=\"12\">12時</option>\n        <option value=\"13\">13時</option>\n        <option value=\"14\">14時</option>\n        <option value=\"15\">15時</option>\n        <option value=\"16\">16時</option>\n        <option value=\"17\">17時</option>\n        <option value=\"18\">18時</option>\n        <option value=\"19\">19時</option>\n        <option value=\"20\">20時</option>\n    </select>      \n    </TableCell>\n\t\t</TableRow>\n    </TableBody>\n    </Table>\n<p></p>\n<h2>支払い方法</h2>\n  <Table>\n    <TableBody>\n      <TableRow>\n        <TableCell>\n        <label htmlFor='daibiki'>代金引換</label>\n        <input type=\"radio\"  name=\"payment\" value=\"1\" onClick={changeStatus} id='daibiki'></input>\n        </TableCell>\n      </TableRow>\n\t\t  <TableRow>\n      <TableCell>\n        <label htmlFor='cc'>クレジットカード</label>\n        <input type=\"radio\"  name=\"payment\" value=\"2\" onClick={changeStatus} id='cc'></input>\n        </TableCell>\n        </TableRow>\n    </TableBody>\n  </Table>\n  <Typography variant=\"h3\">合計金額：{cartItemList.reduce( (a,c) => c.subtotal + a, 0 )}円</Typography>\n  <Button variant=\"contained\" color=\"primary\"  onClick={checkValid}>注文する</Button>\n\n</div>\n)\n}\n\n\nexport default OrderConfirm\n"]},"metadata":{},"sourceType":"module"}