{"ast":null,"code":"var _jsxFileName = \"/Users/kiritoshimura/Desktop/coffee-app/src/views/ItemDetail.js\",\n    _s = $RefreshSig$();\n\n// import React, { Component } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport 'firebase/compat/firestore'; // material ui\n\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport LocalCafeIcon from '@material-ui/icons/LocalCafe';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { GetItemById } from '../components/Items';\nimport { useParams } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'; // import { useEffect } from 'react';\n\nimport { Switch, Route, Link } from 'react-router-dom';\nimport Cart from './Cart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ItemDetail = () => {\n  _s();\n\n  const state = useSelector(state => state);\n  const dispatch = useDispatch();\n  const {\n    Item_id\n  } = useParams();\n  const history = useHistory();\n\n  const handleLink = path => history.push(path);\n\n  let [choiceTopping, setChoiceTopping] = useState([]);\n  let [sizeChoice, setSizeChoice] = useState(\"\");\n  let [quantityChoise, setQuantityChoise] = useState(\"\");\n  let [sizeFinal, setSizeFinal] = useState(\"\");\n  let [puantityFinal, setQuantityFinal] = useState(\"\");\n\n  const setTopping = e => {\n    const getId = e.target.value * 1;\n\n    if (choiceTopping.includes(getId)) {\n      setChoiceTopping(choiceTopping.filter(item => item !== getId));\n    } else {\n      setChoiceTopping([...choiceTopping, getId]);\n    }\n  };\n\n  let totalPrice = () => {\n    if (sizeChoice === \"M\") {\n      return choiceTopping.length * GetItemById(Item_id * 1, state.Topping).priceM * quantityChoise + GetItemById(Item_id * 1, state.Coffee).priceM * quantityChoise;\n    } else if (sizeChoice === \"L\") {\n      return choiceTopping.length * GetItemById(Item_id * 1, state.Topping).priceL * quantityChoise + GetItemById(Item_id * 1, state.Coffee).priceL * quantityChoise;\n    }\n  };\n\n  let setQuantity = e => setQuantityChoise(e.target.value);\n\n  let allSelects = {};\n  let sizePrice = \"\";\n\n  const checkValid = () => {\n    setSizeFinal(\"\");\n    setQuantityFinal(\"\");\n    let errorSentence = \"\";\n\n    if (sizeChoice === \"\") {\n      setSizeFinal(\"サイズを選択してください\");\n      errorSentence += \"サイズ \";\n    }\n\n    if (quantityChoise === \"\" || quantityChoise === \"-------------------------------\") {\n      setQuantityFinal(\"個数を選択してください\");\n      errorSentence += \"個数 \";\n    }\n\n    if (errorSentence !== \"\") {\n      alert(errorSentence + \"を入力してください\");\n    } else {\n      if (sizeChoice === \"M\") {\n        sizePrice = \"priceM\";\n      } else if (sizeChoice === \"L\") {\n        sizePrice = \"priceL\";\n      }\n\n      allSelects = {\n        number: quantityChoise,\n        Itemid: GetItemById(Item_id * 1, state.Coffee).id,\n        toppingid: choiceTopping,\n        price: sizePrice\n      }; // カート作成         \n\n      let cartItemList = state.cart.cartItemList;\n      cartItemList.push(allSelects);\n      let cartItem = state.cart;\n      cartItem.cartItemList = cartItemList; // ログインしていた場合はFirebase、storeを更新\n\n      if (state.user && state.user.uid) {\n        firebase.firestore().collection(`users/${state.user.uid}/carts`).doc(state.cart.uid).update(cartItem).then(querySnapshot => {\n          dispatch({\n            type: 'UPDATE_CARTITEMLIST',\n            payload: {\n              cartItemList\n            }\n          });\n        }); // ログインしていない場合はstore飲み更新\n      } else {\n        dispatch({\n          type: 'UPDATE_CARTITEMLIST',\n          payload: {\n            cartItemList\n          }\n        });\n      }\n\n      handleLink('/cart');\n    }\n  };\n\n  const mainview = {\n    display: \"flex\"\n  };\n  const itemdetail = {\n    display: \"block\",\n    width: \"100%\",\n    textAlign: \"center\"\n  };\n  const explain = {};\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: mainview,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: itemdetail,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [GetItemById(Item_id * 1, state.Coffee).name, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: GetItemById(Item_id * 1, state.Coffee).detail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `${process.env.PUBLIC_URL}/${GetItemById(Item_id * 1, state.Coffee).image}`,\n        height: \"400px\",\n        alt: \"\\u5546\\u54C1\",\n        style: {\n          borderRadius: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          backgroundColor: \"rgb(70, 77, 180)\"\n        },\n        children: [\"\\u5408\\u8A08\\u91D1\\u984D\\uFF1A\", totalPrice(), \"\\u5186(\\u7A0E\\u629C)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"error\",\n        children: [\" \", sizeFinal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: explain,\n          children: \"\\u30B5\\u30A4\\u30BA\\u306E\\u9078\\u629E\\uFF1A\\u3000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"size\",\n          id: \"M\",\n          onClick: () => setSizeChoice(\"M\"),\n          value: \"M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"M\",\n          className: \"point\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(LocalCafeIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 22\n            }, this), \"\\xA0M\\xA0\\xA0\", GetItemById(Item_id * 1, state.Coffee).priceM, \"\\u5186(\\u7A0E\\u629C)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 102\n        }, this), \"\\xA0\\xA0/\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"size\",\n          id: \"L\",\n          onClick: () => setSizeChoice(\"L\"),\n          value: \"L\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"L\",\n          className: \"point\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(LocalCafeIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 22\n            }, this), \"\\xA0L\\xA0\\xA0\", GetItemById(Item_id * 1, state.Coffee).priceL, \"\\u5186(\\u7A0E\\u629C)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 102\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"error\",\n          children: [\" \", puantityFinal]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: explain,\n          children: \"\\u500B\\u6570\\u306E\\u9078\\u629E\\uFF1A\\u3000\\u3000\\u3000\\u3000\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: setQuantity,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"-------------------------------\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"2\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"3\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"4\",\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"5\",\n            children: \"5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"6\",\n            children: \"6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"7\",\n            children: \"7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"8\",\n            children: \"8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"9\",\n            children: \"9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"10\",\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: explain,\n          children: \"\\u30C8\\u30C3\\u30D4\\u30F3\\u30B0\\u306E\\u9078\\u629E\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            textAlign: 'right',\n            fontSize: '5px'\n          },\n          children: \"\\uFF11\\u3064\\u306B\\u3064\\u304DM\\u30B5\\u30A4\\u30BA\\uFF1A200\\u5186\\u30FBL\\u30B5\\u30A4\\u30BA\\uFF1A300\\u5186\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }, this), state.Topping && state.Topping.map((row, index) => /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            listStyle: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"toppingNarabi\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"tid\" + index,\n              type: \"checkbox\",\n              value: row.id,\n              onChange: setTopping,\n              checked: choiceTopping.includes(row.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"tid\" + index,\n              children: GetItemById(row.id, state.Topping).name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: checkValid,\n        style: {\n          color: \"#e0f2f1\",\n          backgroundColor: \"teal\",\n          height: \"55px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(ShoppingCartIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 135\n        }, this), \"\\u30AB\\u30FC\\u30C8\\u306B\\u8FFD\\u52A0\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ItemDetail, \"wmqjpOs/8+QQ130oCNhT5NiCqxA=\", false, function () {\n  return [useSelector, useDispatch, useParams, useHistory];\n});\n\n_c = ItemDetail;\nexport default ItemDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemDetail\");","map":{"version":3,"sources":["/Users/kiritoshimura/Desktop/coffee-app/src/views/ItemDetail.js"],"names":["firebase","Button","Card","LocalCafeIcon","React","useState","useDispatch","useSelector","GetItemById","useParams","useHistory","ShoppingCartIcon","Switch","Route","Link","Cart","ItemDetail","state","dispatch","Item_id","history","handleLink","path","push","choiceTopping","setChoiceTopping","sizeChoice","setSizeChoice","quantityChoise","setQuantityChoise","sizeFinal","setSizeFinal","puantityFinal","setQuantityFinal","setTopping","e","getId","target","value","includes","filter","item","totalPrice","length","Topping","priceM","Coffee","priceL","setQuantity","allSelects","sizePrice","checkValid","errorSentence","alert","number","Itemid","id","toppingid","price","cartItemList","cart","cartItem","user","uid","firestore","collection","doc","update","then","querySnapshot","type","payload","mainview","display","itemdetail","width","textAlign","explain","name","detail","process","env","PUBLIC_URL","image","borderRadius","backgroundColor","fontSize","map","row","index","listStyle","color","height"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport 'firebase/compat/firestore';\n\n// material ui\nimport Button from '@material-ui/core/Button' \nimport Card from '@material-ui/core/Card';\nimport LocalCafeIcon from '@material-ui/icons/LocalCafe';\nimport React, { useState } from 'react';\nimport {useDispatch,useSelector} from \"react-redux\"\nimport { GetItemById } from '../components/Items'\nimport { useParams } from 'react-router-dom'\nimport { useHistory } from 'react-router-dom'\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\n// import { useEffect } from 'react';\nimport {    \n    Switch,\n    Route,\n    Link\n  } from 'react-router-dom'\n  import Cart from './Cart'\n\nexport const ItemDetail = () =>{\n  \nconst state = useSelector(state => state)\nconst dispatch = useDispatch()\nconst {Item_id} = useParams()\nconst history = useHistory()\nconst handleLink = path => history.push(path)\n\nlet [choiceTopping, setChoiceTopping] = useState([])\nlet [sizeChoice,setSizeChoice] = useState(\"\")\nlet [quantityChoise,setQuantityChoise] = useState(\"\")\nlet [sizeFinal,setSizeFinal] = useState(\"\")\nlet [puantityFinal,setQuantityFinal] = useState(\"\")\n\n\nconst setTopping = (e) => {\n    const getId = e.target.value * 1\n    \n    if(choiceTopping.includes(getId)){\n        setChoiceTopping(choiceTopping.filter(item => item !== getId));\n    } else {\n        setChoiceTopping([...choiceTopping, getId]);\n    }\n}\n    let totalPrice = ()  => {\n        if(sizeChoice === \"M\"){\n            return  choiceTopping.length * GetItemById(Item_id*1,state.Topping).priceM * quantityChoise + GetItemById(Item_id*1,state.Coffee).priceM * quantityChoise           \n        }else if(sizeChoice === \"L\"){\n            return  choiceTopping.length * GetItemById(Item_id*1,state.Topping).priceL * quantityChoise + GetItemById(Item_id*1,state.Coffee).priceL * quantityChoise \n        }\n    }\n    let setQuantity = (e) => setQuantityChoise(e.target.value) \n\n    let allSelects ={}\n    let sizePrice = \"\"\n    \n    const checkValid = ()  => {\n        setSizeFinal(\"\")\n        setQuantityFinal(\"\")\n        let errorSentence = \"\"\n\n        if (sizeChoice===\"\") {       \n           setSizeFinal(\"サイズを選択してください\")\n           errorSentence += \"サイズ \"\n        } \n        if (quantityChoise===\"\" || quantityChoise===\"-------------------------------\") {       \n           setQuantityFinal(\"個数を選択してください\")\n           errorSentence += \"個数 \"\n        }\n        if(errorSentence !== \"\"){\n            alert(errorSentence + \"を入力してください\")\n        }else{\n            if(sizeChoice === \"M\"){\n                sizePrice= \"priceM\"\n            }else if(sizeChoice === \"L\"){\n                sizePrice= \"priceL\"\n            }\n            \n            allSelects = {number:quantityChoise, Itemid:GetItemById(Item_id*1,state.Coffee).id, toppingid:choiceTopping, price:sizePrice}            \n            // カート作成         \n            let cartItemList = state.cart.cartItemList            \n            cartItemList.push(allSelects)            \n            let cartItem = state.cart\n            cartItem.cartItemList = cartItemList\n            \n            // ログインしていた場合はFirebase、storeを更新\n            if(state.user && state.user.uid){\n                firebase.firestore()\n                  .collection(`users/${state.user.uid}/carts`)\n                  .doc(state.cart.uid)\n                  .update(cartItem)\n                  .then( querySnapshot => {                                              \n                    dispatch({ type: 'UPDATE_CARTITEMLIST', payload: { cartItemList }})            \n                  })\n            \n            // ログインしていない場合はstore飲み更新\n            }else{\n                dispatch({ type: 'UPDATE_CARTITEMLIST', payload: { cartItemList }})\n            }  \n            handleLink('/cart')              \n        }                \n      }\n    \n    const mainview = {\n        display:\"flex\"\n    }\n\n    const itemdetail = {\n        display: \"block\",\n        width: \"100%\",\n        textAlign: \"center\"\n    }\n\n    const explain ={\n\n    }\n\n    return (\n        <Card style={mainview}>\n\n            <div style={itemdetail}>\n            <h1>{GetItemById(Item_id*1,state.Coffee).name} </h1>   \n            <p>{GetItemById(Item_id*1,state.Coffee).detail}</p>\n         \n            <img src={`${process.env.PUBLIC_URL}/${GetItemById(Item_id*1,state.Coffee).image}`}  height=\"400px\" alt=\"商品\" style={{borderRadius:10}}/>\n            <h3 style={{backgroundColor:\"rgb(70, 77, 180)\"}}>合計金額：{totalPrice()}円(税抜)</h3>                      \n            <p id='error'> {sizeFinal}</p>\n            <p>\n                <span style={explain}>サイズの選択：　</span>\n               <input type=\"radio\" name=\"size\" id='M' onClick={() => setSizeChoice(\"M\")} value=\"M\" /><label htmlFor='M' className='point'>\n               <span><LocalCafeIcon fontSize='small'/>&nbsp;M&nbsp;&nbsp;{GetItemById(Item_id*1,state.Coffee).priceM}円(税抜)</span></label>\n               &nbsp;&nbsp;/&nbsp;&nbsp;\n               <input type=\"radio\" name=\"size\" id='L' onClick={() => setSizeChoice(\"L\")} value=\"L\" /><label htmlFor='L' className='point'>\n               <span><LocalCafeIcon />&nbsp;L&nbsp;&nbsp;{GetItemById(Item_id*1,state.Coffee).priceL}円(税抜)</span></label>\n            </p>\n\n            <p>\n            <div id='error'> {puantityFinal}</div>  \n            <span style={explain}>個数の選択：　　　　</span>\n    \n                <select onChange={setQuantity}>\n                    <option >-------------------------------</option>\n                    <option value=\"1\">1</option>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                    <option value=\"5\">5</option>\n                    <option value=\"6\">6</option>\n                    <option value=\"7\">7</option>\n                    <option value=\"8\">8</option>\n                    <option value=\"9\">9</option>\n                    <option value=\"10\">10</option>\n                </select>\n            </p>\n            <p>\n                <span style={explain}>トッピングの選択：</span>\n                <span style={{textAlign:'right', fontSize:'5px'}}>１つにつきMサイズ：200円・Lサイズ：300円</span>\n                    {state.Topping && state.Topping.map((row,index) => (\n                        <ul style={{listStyle:'none', }} key={index}>\n                        <li className='toppingNarabi'>                                                       \n                            <input id={\"tid\" + index} type=\"checkbox\" value={row.id} onChange={setTopping} checked={choiceTopping.includes(row.id)}/>\n                            <label htmlFor={\"tid\" + index}>{GetItemById(row.id,state.Topping).name}</label>                            \n                        </li>\n                        </ul>\n                        ))\n                    }\n            </p>\n\n\n            <p></p>\n\n                <p></p>                                          \n                <Button variant=\"contained\" onClick={checkValid} style={{ color: \"#e0f2f1\", backgroundColor: \"teal\", height:\"55px\" }}><ShoppingCartIcon />カートに追加</Button>             \n            </div>\n        </Card>\n    )\n}\nexport default ItemDetail"]},"metadata":{},"sourceType":"module"}